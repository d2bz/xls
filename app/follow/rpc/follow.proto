// goctl rpc protoc follow.proto --go_out=. --go-grpc_out=. --zrpc_out=.
syntax = "proto3";

package follow;
option go_package="./follow";

message Error {
  int32 code = 1;
  string message = 2;
}

message FollowRequest {
  uint64 UserID = 1;
  uint64 FollowedUserID = 2;
}

message FollowResponse {
  Error Error = 1;
}

message UnFollowRequest {
  uint64 UserID = 1;
  uint64 FollowedUserID = 2;
}

message UnFollowResponse {
  Error error = 1;
}

message FollowItem {
  uint64 ID = 1;
  uint64 followedUserID = 2;
  int64 fansCount = 3;
  int64 createTime = 4;
}

message FollowListRequest {
  uint64 ID = 1;
  uint64 UserID = 2;
  int64 cursor = 3;
  int64 pageSize = 4;
}

message FollowListResponse {
  repeated FollowItem follows = 1;
  int64 cursor = 2;
  bool isEnd = 3;
  uint64 ID = 4;
  Error error = 5;
}

message FansItem {
  uint64 fansUserID = 1;
  int64 followCount = 2;
  int64 fansCount = 3;
  int64 createTime = 4;
}

message FansListRequest {
  uint64 userID = 1;
  int64 cursor = 2;
  int64 pageSize = 3;
  uint64 lastFansID = 4;
}

message FansListResponse {
  repeated FansItem fans = 1;
  int64 cursor = 2;
  bool isEnd = 3;
  uint64 lastFansID = 4;
  Error error = 5;
}

service Follow {
  rpc Follow (FollowRequest) returns (FollowResponse);
  rpc UnFollow (UnFollowRequest) returns (UnFollowResponse);
  rpc FollowList (FollowListRequest) returns (FollowListResponse);
  rpc FansList (FansListRequest) returns (FansListResponse);
}
